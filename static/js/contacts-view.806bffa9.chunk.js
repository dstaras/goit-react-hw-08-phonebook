(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[1],{217:function(e,t,a){e.exports={list:"ContactList_list__2T7aG"}},218:function(e,t,a){"use strict";var n=a(98),r=a(99);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=r(a(0)),o=(0,n(a(100)).default)(c.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");t.default=o},219:function(e,t,a){e.exports={form:"ContactForm_form__1fuOn",textField:"ContactForm_textField__3CVaX",input:"ContactForm_input__gm87B",btn:"ContactForm_btn__2Bpnz"}},220:function(e,t,a){e.exports={wrapper:"ContactsView_wrapper__CCOvq",title:"ContactsView_title__zBwOW",add:"ContactsView_add__2jKST"}},221:function(e,t,a){e.exports={Modal__backdrop:"Modal_Modal__backdrop__2cPIs",Modal__content:"Modal_Modal__content__9ZV8o"}},222:function(e,t,a){"use strict";var n=a(98),r=a(99);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=r(a(0)),o=(0,n(a(100)).default)(c.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");t.default=o},238:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return me}));var n={};a.r(n),a.d(n,"fetchContacts",(function(){return b})),a.d(n,"addContact",(function(){return m})),a.d(n,"deleteContact",(function(){return f}));var r={};a.r(r),a.d(r,"getContacts",(function(){return h})),a.d(r,"getLoading",(function(){return j})),a.d(r,"getError",(function(){return v})),a.d(r,"getFilter",(function(){return O})),a.d(r,"getVisibleContacts",(function(){return g}));var c=a(70),o=a(0),i=a(21),s=a(35),l=a.n(s),u=a(14),d=a(27),b=function(){return function(e){e(Object(u.fetchContactsRequest)()),l.a.get("/contacts").then((function(t){var a=t.data;return e(Object(u.fetchContactsSuccess)(a))})).catch((function(t){e(Object(u.fetchContactsError)(t)),404===t.response.status?d.b.info("There is no such user's collection!"):500===t.response.status?d.b.error("Oops! Server error! Please try later!"):d.b.error("Something went wrong! Please reload the page!")}))}},m=function(e,t){return function(a){var n={name:e,number:t};a(Object(u.addContactRequest)()),l.a.post("/contacts",n).then((function(e){var t=e.data;return a(Object(u.addContactSuccess)(t))})).catch((function(e){a(Object(u.addContactError)(e)),400===e.response.status?d.b.error("Contact creation error!"):d.b.error("Something went wrong! Please reload the page!")}))}},f=function(e){return function(t){t(Object(u.deleteContactRequest)()),l.a.delete("/contacts/".concat(e)).then((function(){return t(Object(u.deleteContactSuccess)(e))})).catch((function(e){t(Object(u.deleteContactError)(e)),404===e.response.status?d.b.info("There is no such user's collection!"):500===e.response.status?d.b.error("Oops! Server error! Please try later!"):d.b.error("Something went wrong! Please reload the page!")}))}},p=a(53),h=function(e){return e.contacts.items},j=function(e){return e.contacts.isLoading},v=function(e){return e.contacts.error},O=function(e){return e.contacts.filter},g=Object(p.a)([h,O],(function(e,t){var a=t.toLowerCase();return e.filter((function(e){return e.name.toLowerCase().includes(a)}))})),x=a(200),y=a(218),C=a.n(y),_=a(196),k=a(217),w=a.n(k),S=a(201),N=a(166),E=a(1),W=a(4),M=(a(5),a(7)),L=a(10),F=a(40),R=o.forwardRef((function(e,t){var a=e.children,n=e.classes,r=e.className,c=e.disableTypography,i=void 0!==c&&c,s=e.inset,l=void 0!==s&&s,u=e.primary,d=e.primaryTypographyProps,b=e.secondary,m=e.secondaryTypographyProps,f=Object(W.a)(e,["children","classes","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"]),p=o.useContext(F.a).dense,h=null!=u?u:a;null==h||h.type===_.a||i||(h=o.createElement(_.a,Object(E.a)({variant:p?"body2":"body1",className:n.primary,component:"span",display:"block"},d),h));var j=b;return null==j||j.type===_.a||i||(j=o.createElement(_.a,Object(E.a)({variant:"body2",className:n.secondary,color:"textSecondary",display:"block"},m),j)),o.createElement("div",Object(E.a)({className:Object(M.a)(n.root,r,p&&n.dense,l&&n.inset,h&&j&&n.multiline),ref:t},f),h,j)})),T=Object(L.a)({root:{flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},multiline:{marginTop:6,marginBottom:6},dense:{},inset:{paddingLeft:56},primary:{},secondary:{}},{name:"MuiListItemText"})(R),P=o.forwardRef((function(e,t){var a=e.classes,n=e.className,r=Object(W.a)(e,["classes","className"]),c=o.useContext(F.a);return o.createElement("div",Object(E.a)({className:Object(M.a)(a.root,n,"flex-start"===c.alignItems&&a.alignItemsFlexStart),ref:t},r))})),z=Object(L.a)({root:{minWidth:56,flexShrink:0},alignItemsFlexStart:{marginTop:8}},{name:"MuiListItemAvatar"})(P),I=a(71),V=Object(I.a)(o.createElement("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");var A=o.forwardRef((function(e,t){var a=e.alt,n=e.children,r=e.classes,c=e.className,i=e.component,s=void 0===i?"div":i,l=e.imgProps,u=e.sizes,d=e.src,b=e.srcSet,m=e.variant,f=void 0===m?"circle":m,p=Object(W.a)(e,["alt","children","classes","className","component","imgProps","sizes","src","srcSet","variant"]),h=null,j=function(e){var t=e.src,a=e.srcSet,n=o.useState(!1),r=n[0],c=n[1];return o.useEffect((function(){if(t||a){c(!1);var e=!0,n=new Image;return n.src=t,n.srcSet=a,n.onload=function(){e&&c("loaded")},n.onerror=function(){e&&c("error")},function(){e=!1}}}),[t,a]),r}({src:d,srcSet:b}),v=d||b,O=v&&"error"!==j;return h=O?o.createElement("img",Object(E.a)({alt:a,src:d,srcSet:b,sizes:u,className:r.img},l)):null!=n?n:v&&a?a[0]:o.createElement(V,{className:r.fallback}),o.createElement(s,Object(E.a)({className:Object(M.a)(r.root,r.system,r[f],c,!O&&r.colorDefault),ref:t},p),h)})),q=Object(L.a)((function(e){return{root:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},colorDefault:{color:e.palette.background.default,backgroundColor:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[600]},circle:{},circular:{},rounded:{borderRadius:e.shape.borderRadius},square:{borderRadius:0},img:{width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4},fallback:{width:"75%",height:"75%"}}}),{name:"MuiAvatar"})(A),B=o.forwardRef((function(e,t){var a=e.classes,n=e.className,r=Object(W.a)(e,["classes","className"]);return o.createElement("div",Object(E.a)({className:Object(M.a)(a.root,n),ref:t},r))}));B.muiName="ListItemSecondaryAction";var G=Object(L.a)({root:{position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"}},{name:"MuiListItemSecondaryAction"})(B),D=a(85),H=a.n(D),X=a(2);var J=function(){var e=Object(i.b)(),t=Object(i.c)(r.getVisibleContacts),a=Object(i.c)(r.getContacts);return Object(X.jsxs)(X.Fragment,{children:[a.length>0&&Object(X.jsx)(S.a,{className:w.a.list,children:t.map((function(t){var a=t.name,r=t.number,c=t.id;return Object(X.jsxs)(N.a,{children:[Object(X.jsx)(z,{children:Object(X.jsx)(q,{children:Object(X.jsx)(H.a,{"aria-label":"person"})})}),Object(X.jsx)(T,{primary:a}),Object(X.jsx)(T,{color:"primary",primary:r}),Object(X.jsx)(G,{children:Object(X.jsx)(x.a,{id:c,onClick:function(){return e(n.deleteContact(c))},edge:"end","aria-label":"delete",children:Object(X.jsx)(C.a,{})})})]},c)}))}),0===a.length&&Object(X.jsx)(_.a,{color:"primary",variant:"h5",children:"There are no contacts in the phone book now"})]})},K=a(236),Y=a(219),Z=a.n(Y),Q=a(237);var U=function(e){var t=e.onClose,a=Object(i.b)(),s=Object(i.c)(r.getContacts),l=Object(o.useState)(""),u=Object(c.a)(l,2),b=u[0],m=u[1],f=Object(o.useState)(""),p=Object(c.a)(f,2),h=p[0],j=p[1],v=function(e){var t=e.target,a=t.name,n=t.value;switch(a){case"name":m(n);break;case"number":j(n);break;default:return}},O=function(){m(""),j(""),t()};return Object(X.jsxs)("form",{className:Z.a.form,onSubmit:function(e){return e.preventDefault(),function(e){return s.find((function(t){return t.name.toLowerCase()===e.toLowerCase()}))}(b)?Object(d.b)("".concat(b," is already in the phonebook.")):function(e){return s.find((function(t){return t.number===e}))}(h)?Object(d.b)("\ud83e\udd14 ".concat(h," is already in the phonebook.")):function(e,t){return""===e.trim()||""===t.trim()}(b,h)?d.b.info("Enter the contact's"):(a(n.addContact(b,h)),void O())},children:[Object(X.jsx)(Q.a,{label:"Name",variant:"outlined",color:"primary",type:"text",name:"name",fullWidth:!0,value:b,onChange:v,className:Z.a.textField}),Object(X.jsx)(Q.a,{label:"Number",variant:"outlined",color:"primary",type:"phone",name:"number",fullWidth:!0,value:h,onChange:v,className:Z.a.textField}),Object(X.jsx)(K.a,{variant:"contained",color:"primary",size:"large",fullWidth:!0,type:"submit",children:"Add contact"})]})};var $=function(){var e=Object(i.b)(),t=Object(i.c)(r.getFilter),a=Object(i.c)(r.getContacts);return Object(X.jsx)(X.Fragment,{children:a.length>0&&Object(X.jsx)(Q.a,{label:"Filter",variant:"outlined",type:"text",value:t,fullWidth:!0,color:"primary",onChange:function(t){return e(u.filterContact(t.target.value))}})})},ee=a(220),te=a.n(ee),ae=a(30),ne=a(19),re=o.forwardRef((function(e,t){var a=e.classes,n=e.className,r=e.component,c=void 0===r?"div":r,i=e.disableGutters,s=void 0!==i&&i,l=e.fixed,u=void 0!==l&&l,d=e.maxWidth,b=void 0===d?"lg":d,m=Object(W.a)(e,["classes","className","component","disableGutters","fixed","maxWidth"]);return o.createElement(c,Object(E.a)({className:Object(M.a)(a.root,n,u&&a.fixed,s&&a.disableGutters,!1!==b&&a["maxWidth".concat(Object(ne.a)(String(b)))]),ref:t},m))})),ce=Object(L.a)((function(e){return{root:Object(ae.a)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",paddingLeft:e.spacing(2),paddingRight:e.spacing(2),display:"block"},e.breakpoints.up("sm"),{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}),disableGutters:{paddingLeft:0,paddingRight:0},fixed:Object.keys(e.breakpoints.values).reduce((function(t,a){var n=e.breakpoints.values[a];return 0!==n&&(t[e.breakpoints.up(a)]={maxWidth:n}),t}),{}),maxWidthXs:Object(ae.a)({},e.breakpoints.up("xs"),{maxWidth:Math.max(e.breakpoints.values.xs,444)}),maxWidthSm:Object(ae.a)({},e.breakpoints.up("sm"),{maxWidth:e.breakpoints.values.sm}),maxWidthMd:Object(ae.a)({},e.breakpoints.up("md"),{maxWidth:e.breakpoints.values.md}),maxWidthLg:Object(ae.a)({},e.breakpoints.up("lg"),{maxWidth:e.breakpoints.values.lg}),maxWidthXl:Object(ae.a)({},e.breakpoints.up("xl"),{maxWidth:e.breakpoints.values.xl})}}),{name:"MuiContainer"})(re),oe=a(222),ie=a.n(oe),se=a(9),le=a(221),ue=a.n(le),de=document.querySelector("#modal-root");function be(e){var t=e.onClose,a=e.children;Object(o.useEffect)((function(){return window.addEventListener("keydown",n),function(){window.removeEventListener("keydown",n)}}),[]);var n=function(e){"Escape"===e.code&&t()};return Object(se.createPortal)(Object(X.jsx)("div",{className:ue.a.Modal__backdrop,onClick:function(e){e.currentTarget===e.target&&t()},children:Object(X.jsx)("div",{className:ue.a.Modal__content,children:a})}),de)}function me(){var e=Object(i.b)(),t=Object(o.useState)(!1),a=Object(c.a)(t,2),r=a[0],s=a[1];Object(o.useEffect)((function(){return e(n.fetchContacts())}),[e]);var l=function(){s(!r)};return Object(X.jsxs)(ce,{className:te.a.wrapper,maxWidth:"xs",children:[Object(X.jsx)(_.a,{className:te.a.title,color:"primary",variant:"h3",children:"Contacts"}),Object(X.jsx)($,{}),Object(X.jsx)(J,{}),Object(X.jsx)(x.a,{onClick:l,className:te.a.add,color:"primary","aria-label":"add contact",children:Object(X.jsx)(ie.a,{})}),r&&Object(X.jsx)(be,{onClose:l,children:Object(X.jsx)(U,{onClose:l})})]})}}}]);
//# sourceMappingURL=contacts-view.806bffa9.chunk.js.map